<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>에브리타임 회원가입</title>
    <style>
        .centerize{
            width: 100%;
            height: 100vh;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;

            -webkit-box-align: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;

            -webkit-box-pack: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>
    <div class="centerize">
        <table class="mtable" border="1px" bordercolor="silver">
            <tr>
                <td>
                    <img src="/img/univ_logo.jpg" alt="Logo" width="200px" style="display: block; margin: 0px auto; padding-bottom: 20px; padding-top: 80px;"/>
                    <h2 style="padding-left: 20px; padding-right: 20px">에브리타임 회원가입 (대학원생용)</h2>
                    <h3 style="text-align: center">본 회원가입을 통해 귀하는<br> 대학원생이 되실 수 있습니다.<br>귀하의 무궁한 발전을 기원합니다.</h3>
                </td>
            </tr>
            <tr>
                <td>
                    <div style="padding-top: 40px; padding-bottom: 40px; padding-left: 20px; padding-right: 20px;">
                        <section style="padding-bottom: 15px">
                            <input type="text" class="form-control" aria-label="input username" aria-describedby="inputGroup-sizing-sm" placeholder="아이디" id="uname-field">
                            <input type="text" class="form-control" aria-label="input passwd" aria-describedby="inputGroup-sizing-sm" placeholder="비밀번호" id="pwd-field" style="-webkit-text-security: disc">
                            <input type="text" class="form-control" aria-label="input nickname" aria-describedby="inputGroup-sizing-sm" placeholder="닉네임" id="nname-field">
                        </section>
                        <button type="button" class="btn btn-primary" id="reg-btn" style="display: block; margin: 0px auto;">회원가입</button>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $('#reg-btn').click(function(){
            var id = $('#uname-field').val();
            var pw = $('#pwd-field').val();
            var nn = $('#nname-field').val();

            if(id == ''){
                alert("아이디는 공백일 수 없습니다");
                return;
            }
            if(pw == ''){
                alert("패스워드는 공백일 수 없습니다");
                return;
            }
            if(nn == ''){
                alert("닉네임은 공백일 수 없습니다");
                return;
            }
            $.ajax({
                type: "POST",
                url: "/member_reg.php",
                dataType: "TEXT",
                data:{
                    "username": id,
                    "password": pw,
                    "nickname": nn
                },
                success: function(r){
                    if(r == 'success'){
                        alert('회원가입 성공! 로그인 페이지로 이동합니다.');
                        location.href = '/login.html';
                    }else{
                        alert(r);
                    }
                },error: function(req,st,err){
                    alert(err);
                }
            }) ;
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>

</html>